<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" #formDirective="ngForm">
  <mat-card class="product-cru">
    <mat-card-subtitle>Register</mat-card-subtitle>
    <mat-card-content>
      <mat-form-field>
        <input type="text" matInput placeholder="Username" formControlName="username">
        <mat-error *ngIf="submitted && f.username.errors?.required">
          Username is a required field
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input type="password" matInput placeholder="Password" formControlName="password">
        <mat-error *ngIf="submitted && f.password.errors?.required">
          Password is a required field
        </mat-error>
        <mat-error *ngIf="submitted && f.password.errors?.minlength">
          Password length must be major equal than {{validators.minLength}}
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input type="password" matInput placeholder="Confirm password" formControlName="confirmPassword">
        <mat-error *ngIf="submitted && f.confirmPassword.errors?.required">
          Confirm password is a required field
        </mat-error>
        <mat-error *ngIf="submitted && f.confirmPassword.errors?.mustMatch">
          Confirm password must be equal than password
        </mat-error>
      </mat-form-field>
      <mat-error *ngIf="error" class="alert">{{ error }}</mat-error>
      <mat-label *ngIf="message" class="info">{{ message }}</mat-label>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" type="submit">Register</button>
    </mat-card-actions>
  </mat-card>
</form>
