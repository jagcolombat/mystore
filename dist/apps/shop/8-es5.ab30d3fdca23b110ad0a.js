function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{mJBM:function(e,r,t){"use strict";t.r(r),t.d(r,"ShopAdminModule",(function(){return _}));var o=t("2kYt"),i=t("sEIs"),n=t("oMD5"),c=t("C17D"),d=t("EM62"),u=t("xQ0O"),a=t("nIj0"),s=(t("hv/J"),t("Meci")),p=t("29Wa"),l=t("Cd2c"),m=t("PBFl"),f=["formDirective"];function b(e,r){1&e&&(d.Sb(0,"mat-error"),d.uc(1," Product name is a required field "),d.Rb())}function h(e,r){1&e&&(d.Sb(0,"mat-error"),d.uc(1," Product price is a required field "),d.Rb())}function v(e,r){1&e&&(d.Sb(0,"mat-error"),d.uc(1," Product price must be major equal than 0 "),d.Rb())}function P(e,r){1&e&&(d.Sb(0,"mat-error"),d.uc(1," Product price must be minor equal than 1000 "),d.Rb())}function g(e,r){if(1&e&&(d.Sb(0,"mat-error",9),d.uc(1),d.Rb()),2&e){var t=d.ec();d.Bb(1),d.vc(t.error)}}var E,y,C,S=((y=function(){function e(r){_classCallCheck(this,e),this.formBuilder=r,this.evAddProd=new d.n,this.evUpdateProd=new d.n,this.prod2Edit={id:"",name:"",price:void 0,description:""},this.error="",this.submitted=!1,this.form=this.formBuilder.group({name:["",a.n.required],price:["",[a.n.required,a.n.min(0),a.n.max(1e3)]],description:["",a.n.maxLength(250)]})}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.prod2Edit&&this.form.patchValue({name:this.prod2Edit.name,price:this.prod2Edit.price,description:this.prod2Edit.description})}},{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.submitted=!0,this.form.valid&&(this.prod2Edit&&""!==this.prod2Edit.id?this.updateProduct():this.saveProduct())}},{key:"saveProduct",value:function(){this.evAddProd.emit({name:this.f.name.value,price:this.f.price.value,description:this.f.description.value}),this.formDirective.resetForm()}},{key:"updateProduct",value:function(){this.evUpdateProd.emit({id:this.prod2Edit.id,name:this.f.name.value,price:this.f.price.value,description:this.f.description.value}),this.resetProdEdit(),this.formDirective.resetForm()}},{key:"resetProdEdit",value:function(){this.prod2Edit={id:"",name:"",price:void 0,description:""}}},{key:"f",get:function(){return this.form.controls}}]),e}()).\u0275fac=function(e){return new(e||y)(d.Nb(a.c))},y.\u0275cmp=d.Hb({type:y,selectors:[["ecommerce-cru-product"]],viewQuery:function(e,r){var t;1&e&&d.yc(f,!0),2&e&&d.lc(t=d.bc())&&(r.formDirective=t.first)},inputs:{prod2Edit:"prod2Edit",error:"error"},outputs:{evAddProd:"evAddProd",evUpdateProd:"evUpdateProd"},features:[d.zb],decls:20,vars:9,consts:[[1,"product-cru"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["type","text","matInput","","placeholder","Name*","formControlName","name",3,"value"],[4,"ngIf"],["type","number","matInput","","placeholder","Price*","formControlName","price",3,"value"],["matInput","","rows","3","placeholder","Description","formControlName","description",3,"value"],["class","alert",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[1,"alert"]],template:function(e,r){1&e&&(d.Sb(0,"mat-card",0),d.Sb(1,"mat-card-subtitle"),d.uc(2,"Add/Edit Product"),d.Rb(),d.Sb(3,"mat-card-content"),d.Sb(4,"form",1,2),d.ac("ngSubmit",(function(){return r.onSubmit()})),d.Sb(6,"mat-form-field"),d.Ob(7,"input",3),d.tc(8,b,2,0,"mat-error",4),d.Rb(),d.Sb(9,"mat-form-field"),d.Ob(10,"input",5),d.tc(11,h,2,0,"mat-error",4),d.tc(12,v,2,0,"mat-error",4),d.tc(13,P,2,0,"mat-error",4),d.Rb(),d.Sb(14,"mat-form-field"),d.Sb(15,"textarea",6),d.uc(16,"        "),d.Rb(),d.Rb(),d.tc(17,g,2,1,"mat-error",7),d.Sb(18,"button",8),d.uc(19,"Save"),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&e&&(d.Bb(4),d.jc("formGroup",r.form),d.Bb(3),d.jc("value",null==r.prod2Edit?null:r.prod2Edit.name),d.Bb(1),d.jc("ngIf",r.submitted&&(null==r.f.name.errors?null:r.f.name.errors.required)),d.Bb(2),d.jc("value",null==r.prod2Edit?null:r.prod2Edit.price),d.Bb(1),d.jc("ngIf",r.submitted&&(null==r.f.price.errors?null:r.f.price.errors.required)),d.Bb(1),d.jc("ngIf",r.submitted&&(null==r.f.price.errors?null:r.f.price.errors.min)),d.Bb(1),d.jc("ngIf",r.submitted&&(null==r.f.price.errors?null:r.f.price.errors.max)),d.Bb(2),d.jc("value",null==r.prod2Edit?null:r.prod2Edit.description),d.Bb(2),d.jc("ngIf",r.error))},directives:[s.a,s.g,s.c,a.o,a.j,a.e,p.c,l.b,a.b,a.i,a.d,o.k,a.l,m.b,p.b],styles:[".product-cru-content[_ngcontent-%COMP%]{width:100%;height:90%}mat-card-actions[_ngcontent-%COMP%]{padding:0 10px}mat-form-field[_ngcontent-%COMP%]{width:90%}textarea[_ngcontent-%COMP%]{max-height:100px}"]}),y),k=((E=function(){function e(r){var t=this;_classCallCheck(this,e),this.prodService=r,this.responseErr="",this.prodService.getProducts().subscribe((function(e){t.products=e.products}),(function(e){return console.error(e)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"addProduct",value:function(e){var r=this;this.prodService.saveProduct(e).subscribe((function(e){r.product={action:n.a.ADD,item:e},r.responseErr=""}),(function(e){console.error(e),r.responseErr=e}))}},{key:"updateProduct",value:function(e){var r=this;this.prodService.updateProduct(e).subscribe((function(e){r.product={action:n.a.UPD,item:e},r.responseErr=""}),(function(e){console.error(e),r.responseErr=e}))}},{key:"deleteProduct",value:function(e){var r=this;this.prodService.deleteProduct(e.id).subscribe((function(t){r.product={action:n.a.DEL,item:e}}),(function(e){return console.error(e)}))}},{key:"editProd",value:function(e){this.prod2Edit=e[0]}}]),e}()).\u0275fac=function(e){return new(e||E)(d.Nb(c.b))},E.\u0275cmp=d.Hb({type:E,selectors:[["ecommerce-admin"]],decls:2,vars:4,consts:[[3,"data","addProd","evEditProd","evDelProd"],[3,"prod2Edit","error","evAddProd","evUpdateProd"]],template:function(e,r){1&e&&(d.Sb(0,"ecommerce-manage-products",0),d.ac("evEditProd",(function(e){return r.editProd(e)}))("evDelProd",(function(e){return r.deleteProduct(e)})),d.Rb(),d.Sb(1,"ecommerce-cru-product",1),d.ac("evAddProd",(function(e){return r.addProduct(e)}))("evUpdateProd",(function(e){return r.updateProduct(e)})),d.Rb()),2&e&&(d.jc("data",r.products)("addProd",r.product),d.Bb(1),d.jc("prod2Edit",r.prod2Edit)("error",r.responseErr))},directives:[u.a,S],styles:["[_nghost-%COMP%]{display:flex;flex:1;margin:10px 20px;justify-content:space-between}ecommerce-admin[_ngcontent-%COMP%] + ecommerce-admin[_ngcontent-%COMP%]{margin-left:10px}ecommerce-manage-products[_ngcontent-%COMP%]{display:flex;width:60%}ecommerce-cru-product[_ngcontent-%COMP%]{display:flex;width:38%;flex-direction:column}"]}),E),w=t("ZPsl"),_=((C=function e(){_classCallCheck(this,e)}).\u0275mod=d.Lb({type:C}),C.\u0275inj=d.Kb({factory:function(e){return new(e||C)},imports:[[o.b,i.f.forChild([{path:"",component:k}]),w.a,a.m]]}),C)}}]);