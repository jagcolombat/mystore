function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{D57K:function(t,e,i){"use strict";function n(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}))},"hv/J":function(t,e,i){"use strict";i("2kYt"),i("EM62"),i("D57K")},oMD5:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i("2kYt"),i("EM62");var n=function(t){return t.ADD="ADD",t.UPD="UPD",t.DEL="DEL",t}({})},xQ0O:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,o,a,s=i("EM62"),c=i("Meci"),r=["headerButton"],l=((n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"agInit",value:function(t){this.params=t}},{key:"onMenuClicked",value:function(){this.params.context.componentParent.selectOrDeselectAll()}},{key:"refresh",value:function(t){return!1}}]),t}()).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Hb({type:n,selectors:[["ecommerce-loading-overlay"]],viewQuery:function(t,e){var i;1&t&&s.yc(r,!0,s.l),2&t&&s.lc(i=s.bc())&&(e.headerButton=i.first)},decls:4,vars:1,consts:[[1,"customHeaderLabel",3,"click"],["headerButton",""]],template:function(t,e){1&t&&(s.Sb(0,"div"),s.Sb(1,"div",0,1),s.ac("click",(function(){return e.onMenuClicked()})),s.uc(3),s.Rb(),s.Rb()),2&t&&(s.Bb(3),s.vc(e.params.displayName))},styles:[".customHeaderLabel[_ngcontent-%COMP%] {\n          margin-left: 5px;\n          margin-top: 3px;\n      }"]}),n),d=i("oMD5"),u=i("1ZKx"),h=((o=function(){function t(){_classCallCheck(this,t),this.updateData=new s.n,this.evSelItem=new s.n,this.items=new Array,this.subscriptions=[],this.selectableProd=!0,this.context={componentParent:this}}return _createClass(t,[{key:"ngOnChanges",value:function(t){if(t.data&&this.gridReady&&this.updateItems(),t.item&&this.gridReady)switch(this.item.action){case d.a.ADD:this.onAddRow(this.item.item);break;case d.a.UPD:this.onUpdateRow(this.item.item);break;case d.a.DEL:this.onDeleteRow(this.item.item)}}},{key:"ngOnInit",value:function(){this.updateGridOptions(),this.footer&&this.setTotal()}},{key:"onGridReady",value:function(t){this.gridReady=!0,this.gridApi=t.api,this.data&&this.updateItems(this.data)}},{key:"createColumnDefs",value:function(){var t=this;this.columnDefs=[{headerCheckboxSelection:this.selectableProd,checkboxSelection:this.selectableProd}],this.columns.map((function(e,i,n){t.columnDefs[i]=Object.assign(Object.assign({},t.columnDefs[i]),{headerComponentFramework:l,headerComponentParams:{displayName:e.title},field:e.field,type:e.type,width:e.width})}))}},{key:"updateGridOptions",value:function(){var t=this;this.gridOptions={rowData:[],onGridReady:function(){t.gridOptions.api.sizeColumnsToFit()},onRowSelected:function(e){t.evSelItem.emit(t.gridOptions.api.getSelectedRows())},onRowClicked:function(e){t.evSelItem.emit(t.gridOptions.api.getSelectedRows())},onBodyScroll:function(e){t.gridOptions.api.sizeColumnsToFit()},onGridColumnsChanged:function(){t.gridOptions.api.sizeColumnsToFit()},rowHeight:60,rowStyle:{"font-size":"16px"}},this.createColumnDefs()}},{key:"selectOrDeselectAll",value:function(){this.selectableProd&&(this.gridOptions.api.getSelectedNodes().length!==this.gridOptions.api.getDisplayedRowCount()?this.gridOptions.api.selectAll():this.gridOptions.api.deselectAll())}},{key:"onAddRow",value:function(t){t.price=Number(t.price).toFixed(2),this.footer&&this.bottomData.length&&(this.items.push(t),this.calculateTotal()),this.gridOptions.api.updateRowData({add:[t]})}},{key:"onDeleteRow",value:function(t){this.footer&&this.bottomData.length&&(this.items.splice(this.items.findIndex((function(e,i){return e.id===t.id})),1),this.calculateTotal()),this.gridOptions.api.deselectAll(),this.gridOptions.api.updateRowData({remove:[t]})}},{key:"onUpdateRow",value:function(t){this.footer&&this.bottomData.length&&(this.items.splice(this.items.findIndex((function(e,i){return e.id===t.id})),1,t),this.calculateTotal()),this.gridOptions.api.deselectAll(),this.gridOptions.api.forEachNode((function(e){e.data.id===t.id&&e.setData(t)}))}},{key:"getRowData",value:function(){var t=[];return this.gridOptions.api.forEachNode((function(e){t.push(e.data)})),t}},{key:"clearData",value:function(){this.gridOptions.api.setRowData([]),this.footer&&this.bottomData.length&&this.setTotal()}},{key:"updateItems",value:function(t){var e=this;this.clearData(),this.data.map((function(t){e.onAddRow(t)}))}},{key:"calculateTotal",value:function(){var t=0;this.items.forEach((function(e,i){t+=+e.price*+e.quantity})),this.setTotal(t)}},{key:"setTotal",value:function(t){this.bottomData=[{name:"Total",description:void 0,price:void 0,quantity:t?t.toFixed(2):0}]}},{key:"ngOnDestroy",value:function(){this.subscriptions.map((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=s.Hb({type:o,selectors:[["ecommerce-ag-grid"]],inputs:{columns:"columns",data:"data",item:"item",footer:"footer"},outputs:{updateData:"updateData",evSelItem:"evSelItem"},features:[s.zb],decls:1,vars:4,consts:[[1,"ag-theme-material",3,"gridOptions","context","columnDefs","pinnedBottomRowData","gridReady"]],template:function(t,e){1&t&&(s.Sb(0,"ag-grid-angular",0),s.ac("gridReady",(function(t){return e.onGridReady(t)})),s.Rb()),2&t&&s.jc("gridOptions",e.gridOptions)("context",e.context)("columnDefs",e.columnDefs)("pinnedBottomRowData",e.bottomData)},directives:[u.a],styles:["ag-grid-angular[_ngcontent-%COMP%]{width:100%;height:100%}ag-grid-angular[_ngcontent-%COMP%] > .customHeaderLabel[_ngcontent-%COMP%]{width:100%!important}ag-grid-angular[_ngcontent-%COMP%] > [col-id=total][_ngcontent-%COMP%] > .customHeaderLabel[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}  .ag-theme-material .ag-header-row{font-size:16px!important}"]}),o),f=i("PBFl"),p=((a=function(){function t(){_classCallCheck(this,t),this.title="List of Products",this.evEditProd=new s.n,this.evDelProd=new s.n,this.editBtnDisabled=!0,this.delBtnDisabled=!0,this.columnDefs=[{field:"name",title:"Name",width:80},{field:"description",title:"Description",width:100},{field:"price",title:"Price",width:50,type:"numericColumn"}]}return _createClass(t,[{key:"ngOnInit",value:function(){this.cart&&this.columnDefs.push({field:"quantity",title:"Quantity",width:50,type:"numericColumn",cellEditor:"numericEditor",editable:!0})}},{key:"selProduct",value:function(t){this.selectedProds=t,this.editBtnDisabled=this.delBtnDisabled=1!==t.length}},{key:"deleteProd",value:function(){this.evDelProd.emit(this.selectedProds[0])}},{key:"editProd",value:function(){this.evEditProd.emit(this.selectedProds)}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=s.Hb({type:a,selectors:[["ecommerce-manage-products"]],inputs:{title:"title",cart:"cart",data:"data",addProd:"addProd"},outputs:{evEditProd:"evEditProd",evDelProd:"evDelProd"},decls:10,vars:7,consts:[[1,"product-list"],[1,"product-list-content"],["fxFlex","50",1,"container",3,"data","item","columns","footer","evSelItem"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(s.Sb(0,"mat-card",0),s.Sb(1,"mat-card-subtitle"),s.uc(2),s.Rb(),s.Sb(3,"mat-card-content",1),s.Sb(4,"ecommerce-ag-grid",2),s.ac("evSelItem",(function(t){return e.selProduct(t)})),s.Rb(),s.Rb(),s.Sb(5,"mat-card-actions"),s.Sb(6,"button",3),s.ac("click",(function(){return e.editProd()})),s.uc(7,"Edit"),s.Rb(),s.Sb(8,"button",3),s.ac("click",(function(){return e.deleteProd()})),s.uc(9,"Delete"),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(2),s.vc(e.title),s.Bb(2),s.jc("data",e.data)("item",e.addProd)("columns",e.columnDefs)("footer",e.cart),s.Bb(2),s.jc("disabled",e.editBtnDisabled),s.Bb(2),s.jc("disabled",e.delBtnDisabled))},directives:[c.a,c.g,c.c,h,c.b,f.b],styles:[".container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.product-list[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column}.product-list-content[_ngcontent-%COMP%]{width:100%;height:90%}mat-card-actions[_ngcontent-%COMP%]{padding:0 10px}"]}),a)}}]);