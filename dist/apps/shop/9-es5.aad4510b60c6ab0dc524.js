function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{mDbg:function(t,e,r){"use strict";r.r(e),r.d(e,"ShopCartModule",(function(){return k}));var i=r("2kYt"),n=r("sEIs"),o=(r("hv/J"),r("C17D")),c=r("oMD5"),a=r("EM62"),u=r("xQ0O"),d=r("nIj0"),s=r("Meci"),l=r("29Wa"),m=r("Cd2c"),f=r("PBFl"),p=["formQDirective"];function b(t,e){1&t&&(a.Sb(0,"mat-error"),a.uc(1," Product quantity is a required field "),a.Rb())}function h(t,e){1&t&&(a.Sb(0,"mat-error"),a.uc(1," Product quantity must be major equal than 0 "),a.Rb())}function y(t,e){1&t&&(a.Sb(0,"mat-error"),a.uc(1," Product quantity must be minor equal than 10 "),a.Rb())}function v(t,e){if(1&t&&(a.Sb(0,"mat-error",7),a.uc(1),a.Rb()),2&t){var r=a.ec();a.Bb(1),a.vc(r.error)}}var g,P,E,q=((P=function(){function t(e){_classCallCheck(this,t),this.formBuilder=e,this.evUpdateProd=new a.n,this.prod2Edit={id:"",name:"",price:void 0,description:"",quantity:void 0},this.error="",this.submitted=!1,this.form=this.formBuilder.group({quantity:["",[d.n.required,d.n.min(0),d.n.max(10)]]})}return _createClass(t,[{key:"ngOnChanges",value:function(t){console.log("changes",t),t.prod2Edit&&t.prod2Edit.currentValue&&this.form.patchValue({quantity:t.prod2Edit.currentValue.quantity}),t.error&&console.error(t.error)}},{key:"ngOnInit",value:function(){console.log("ngOnInit",this.prod2Edit)}},{key:"onSubmit",value:function(){console.log("form",this.f),this.submitted=!0,this.form.valid&&(console.log(this.prod2Edit),this.updateProduct())}},{key:"updateProduct",value:function(){this.evUpdateProd.emit({id:this.prod2Edit.id,name:this.prod2Edit.name,price:this.prod2Edit.price,description:this.prod2Edit.description,quantity:this.f.quantity.value}),this.resetProdEdit(),this.formQDirective.resetForm()}},{key:"resetProdEdit",value:function(){this.prod2Edit={id:"",name:"",price:void 0,description:"",quantity:void 0}}},{key:"f",get:function(){return this.form.controls}}]),t}()).\u0275fac=function(t){return new(t||P)(a.Nb(d.c))},P.\u0275cmp=a.Hb({type:P,selectors:[["ecommerce-quantity"]],viewQuery:function(t,e){var r;1&t&&a.yc(p,!0),2&t&&a.lc(r=a.bc())&&(e.formQDirective=r.first)},inputs:{prod2Edit:"prod2Edit",error:"error"},outputs:{evUpdateProd:"evUpdateProd"},features:[a.zb],decls:14,vars:6,consts:[[1,"product-cru"],[3,"formGroup","ngSubmit"],["formQDirective","ngForm"],["type","number","matInput","","placeholder","Quantity*","formControlName","quantity",3,"value"],[4,"ngIf"],["class","alert",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[1,"alert"]],template:function(t,e){1&t&&(a.Sb(0,"mat-card",0),a.Sb(1,"mat-card-subtitle"),a.uc(2,"Edit Quantity"),a.Rb(),a.Sb(3,"mat-card-content"),a.Sb(4,"form",1,2),a.ac("ngSubmit",(function(){return e.onSubmit()})),a.Sb(6,"mat-form-field"),a.Ob(7,"input",3),a.tc(8,b,2,0,"mat-error",4),a.tc(9,h,2,0,"mat-error",4),a.tc(10,y,2,0,"mat-error",4),a.Rb(),a.tc(11,v,2,1,"mat-error",5),a.Sb(12,"button",6),a.uc(13,"Edit"),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&t&&(a.Bb(4),a.jc("formGroup",e.form),a.Bb(3),a.jc("value",null==e.prod2Edit?null:e.prod2Edit.quantity),a.Bb(1),a.jc("ngIf",e.submitted&&(null==e.f.quantity.errors?null:e.f.quantity.errors.required)),a.Bb(1),a.jc("ngIf",e.submitted&&(null==e.f.quantity.errors?null:e.f.quantity.errors.min)),a.Bb(1),a.jc("ngIf",e.submitted&&(null==e.f.quantity.errors?null:e.f.quantity.errors.max)),a.Bb(1),a.jc("ngIf",e.error))},directives:[s.a,s.g,s.c,d.o,d.j,d.e,l.c,d.l,m.b,d.b,d.i,d.d,i.k,f.b,l.b],styles:[".product-cru-content[_ngcontent-%COMP%]{width:100%;height:90%}mat-card-actions[_ngcontent-%COMP%]{padding:0 10px}mat-form-field[_ngcontent-%COMP%]{width:90%}"]}),P),C=((g=function(){function t(e){var r=this;_classCallCheck(this,t),this.cartService=e,this.items=[],this.cartService.items.forEach((function(t,e){r.items.push(t)}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"updateItem",value:function(t){console.log("updateItem",t),this.cartService.items.get(t.id).quantity=t.quantity,this.item={action:c.a.UPD,item:t}}},{key:"deleteProduct",value:function(t){this.cartService.items.delete(t.id),this.item={action:c.a.DEL,item:t}}},{key:"editProd",value:function(t){console.log("editProd",t),this.prod2Edit=t[0]}}]),t}()).\u0275fac=function(t){return new(t||g)(a.Nb(o.a))},g.\u0275cmp=a.Hb({type:g,selectors:[["ecommerce-cart"]],decls:2,vars:4,consts:[[3,"data","addProd","cart","evEditProd","evDelProd"],[3,"prod2Edit","evUpdateProd"]],template:function(t,e){1&t&&(a.Sb(0,"ecommerce-manage-products",0),a.ac("evEditProd",(function(t){return e.editProd(t)}))("evDelProd",(function(t){return e.deleteProduct(t)})),a.Rb(),a.Sb(1,"ecommerce-quantity",1),a.ac("evUpdateProd",(function(t){return e.updateItem(t)})),a.Rb()),2&t&&(a.jc("data",e.items)("addProd",e.item)("cart",!0),a.Bb(1),a.jc("prod2Edit",e.prod2Edit))},directives:[u.a,q],styles:["[_nghost-%COMP%]{display:flex;flex:1;margin:10px 20px;justify-content:space-between}ecommerce-cart[_ngcontent-%COMP%] + ecommerce-cart[_ngcontent-%COMP%]{margin-left:10px}ecommerce-manage-products[_ngcontent-%COMP%]{display:flex;width:70%}ecommerce-quantity[_ngcontent-%COMP%]{display:flex;width:28%;flex-direction:column}"]}),g),S=r("ZPsl"),k=((E=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:E}),E.\u0275inj=a.Kb({factory:function(t){return new(t||E)},imports:[[i.b,S.a,d.m,n.e.forChild([{path:"",pathMatch:"full",component:C}])]]}),E)}}]);